<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>å¯¿å‘½ã¨æ­»å› è¨ºæ–­</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
      background-color: #fff9f0;
      padding: 50px 20px;
    }
    h1 {
      color: #8a2be2;
      font-size: 2em;
    }
    form {
      background: #fff;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      display: inline-block;
      max-width: 400px;
      width: 100%;
    }
    label {
      font-size: 18px;
      display: block;
      margin-bottom: 10px;
      color: #444;
    }
    input[type="text"] {
      width: 100%;
      font-size: 18px;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
      margin-bottom: 15px;
    }
    button {
      font-size: 18px;
      padding: 10px 25px;
      background-color: #8a2be2;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    button:hover {
      background-color: #6b1fc2;
    }
    .error {
      color: red;
      font-weight: bold;
    }
    .back-link {
      display: inline-block;
      margin-bottom: 30px;
      font-size: 16px;
      color: #8a2be2;
      text-decoration: none;
    }
    .back-link:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>

  <a href="index.html" class="back-link">â† ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</a>

  <h1>å¯¿å‘½ã¨æ­»å› è¨ºæ–­</h1>

  <form onsubmit="diagnose(event)">
    <label for="name">ã‚ãªãŸã®åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼š</label>
    <input type="text" id="name" placeholder="ä¾‹ï¼šã‚µãƒ¡å¤ªéƒ" />
    <button type="submit">è¨ºæ–­ã™ã‚‹</button>
  </form>

  <div id="result"></div>

  <script>
    // æ­»å› ã¨ã‚³ãƒ¡ãƒ³ãƒˆã®ãƒªã‚¹ãƒˆ
    const causes = [
      "ãƒãƒŠãƒŠã®çš®ã§è»¢ã‚“ã§é ­ã‚’å¼·æ‰“",
      "å®‡å®™äººã«ã•ã‚‰ã‚ã‚Œã¦å¸°ã£ã¦ã“ãªã‹ã£ãŸ",
      "AIã«é€†ã‚‰ã£ãŸãŸã‚å‡¦åˆ‘ã•ã‚ŒãŸ",
      "ã‚«ãƒ¬ãƒ¼ã‚’é£Ÿã¹éãã¦çˆ†ç™º",
      "ç•°ä¸–ç•Œè»¢ç”Ÿã®ãŸã‚ãƒˆãƒ©ãƒƒã‚¯ã«è½¢ã‹ã‚ŒãŸ",
      "SNSã®ã‚„ã‚Šã™ãã§æ¶ˆæ»…",
      "ã‚¿ã‚¤ãƒ ãƒã‚·ãƒ³ã®äº‹æ•…",
      "è‡ªçˆ†ãƒœã‚¿ãƒ³ã‚’ã†ã£ã‹ã‚ŠæŠ¼ã—ãŸ",
      "é­”ç‹ã¨ã®æˆ¦ã„ã«æ•—ã‚ŒãŸ",
      "å¤©ã®è£ãã‚’å—ã‘ãŸ",
      "è¬ã®å…‰ã«åŒ…ã¾ã‚Œã¦æ¶ˆæ»…"
    ];

    const comments = [
      "ã‚‚ã£ã¨é‡èœã‚’é£Ÿã¹ã¾ã—ã‚‡ã†ã€‚",
      "é‹å‘½ã«ã¯é€†ã‚‰ãˆã¾ã›ã‚“ã€‚",
      "ã‚ã‚‹æ„å‘³ã€è‹±é›„ã§ã™ã€‚",
      "ãã‚Œã§ã‚‚ç¬‘ã£ã¦ç”Ÿãã¾ã—ã‚‡ã†ã€‚",
      "æœ€å¾Œã¾ã§å…ƒæ°—ã§ã—ãŸã€‚",
      "ä¸–ç•Œã®ãŸã‚ã«çŠ ç‰²ã«ãªã‚Šã¾ã—ãŸã€‚"
    ];

    // è¨ºæ–­é–¢æ•°
    function diagnose(e) {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const resultElement = document.getElementById("result");
      resultElement.classList.remove('error');
      resultElement.innerText = '';

      if (name === '') {
        resultElement.classList.add('error');
        resultElement.innerText = 'âš ï¸ åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚';
        return;
      }

      if (name.length > 150) {
        resultElement.classList.add('error');
        resultElement.innerText = 'âš ï¸ åå‰ãŒé•·ã™ãã¾ã™ã€‚150æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚';
        return;
      }

      const seed = Array.from(name).reduce((a, c) => a + c.charCodeAt(0), 0);
      const rng = mulberry32(seed);

      const age = Math.floor(rng() * 60 + 40); // 40ã€œ99æ­³
      const cause = causes[Math.floor(rng() * causes.length)];
      const comment = comments[Math.floor(rng() * comments.length)];

      resultElement.innerText =
        `ğŸ§¬ ${name}ã•ã‚“ã®è¨ºæ–­çµæœ\n` +
        `â³ å¯¿å‘½ï¼š${age}æ­³\n` +
        `â˜ ï¸ æ­»å› ï¼š${cause}\n` +
        `ğŸ’¬ ã‚³ãƒ¡ãƒ³ãƒˆï¼š${comment}`;
    }

    // ä¹±æ•°ç”Ÿæˆå™¨ï¼ˆåå‰ã«åŸºã¥ã„ã¦åŒã˜çµæœã‚’ç”Ÿæˆï¼‰
    function mulberry32(a) {
      return function () {
        var t = a += 0x6D2B79F5;
        t = Math.imul(t ^ t >>> 15, t | 1);
        t ^= t + Math.imul(t ^ t >>> 7, t | 61);
        return ((t ^ t >>> 14) >>> 0) / 4294967296;
      }
    }
  </script>

</body>
</html>
